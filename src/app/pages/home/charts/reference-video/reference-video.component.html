<div class="vq-widget">
  <app-chart-header [disableRefresh]="isEditable" [title]="'Video for selected match'" (resetClick)="onResetMatch()"
    [tooltip]="'View the clip of the chosen match, and then score it as Valid or Invalid, or remove it from the list.
                When a match is selected, the video is positioned at the start of the corresponding video clip.
                See above for the clip duration.'">
  </app-chart-header>
  <div class="video-container">
    <ng-container *ngIf="!matchService.videoSrc">
      <div class="empty-state">
        <i class="fa fa-hand-o-left fa-4x" aria-hidden="true"></i>
        <p>Select A Match</p>
      </div>
    </ng-container>
    <div class="empty-state" *ngIf="!isAuthenticated && matchService.videoSrc">
      <i class="fa fa-lock fa-4x" aria-hidden="true"></i>
      <p>Unauthorized To View This Video.</p>
      <button type="submit" class="btn btn-warning btn-sm" (click)="onAuthorize()">Authorize</button>
    </div>
    <video controls align="center" #videoPlayer
      [style.display]="matchService.videoSrc && isAuthenticated ? 'block' : 'none'">
      <source [src]="matchService.videoSrc" type="video/mp4"> Your browser does not support the video tag.
    </video>
    <app-loader [show]="loading"></app-loader>
  </div>
  <div class="container">
    <div class="row ">
      <div class="col-sm">
        <button type="button"
          [disabled]="isEditable || !isAuthenticated || !matchService.videoSrc || this.loading || existingQueryService.disabled || matchService.getActiveMatch()?.user_match === false"
          class="btn btn-block btn-secondary"
          [ngClass]="{'btn-danger' : matchService.getActiveMatch()?.user_match === false}"
          (click)="onValidationClicked(false)">Invalid</button>
      </div>
      <div class="col-sm">
        <button type="button"
          [disabled]="isEditable || !isAuthenticated || !matchService.videoSrc || this.loading || existingQueryService.disabled || matchService.getActiveMatch()?.user_match"
          class="btn btn-block btn-secondary" [ngClass]="{'btn-success' : matchService.getActiveMatch()?.user_match}"
          (click)="onValidationClicked(true)">Valid</button>
      </div>
      <div class="col-sm">
        <button type="button"
          [disabled]="isEditable || !isAuthenticated || !matchService.videoSrc || this.loading || existingQueryService.disabled || matchService.getActiveMatch()?.user_match === null"
          class="btn btn-block btn-secondary" (click)="onValidationClicked(null)">Remove</button>
      </div>
    </div>
  </div>
  <app-token-auth (submit)="onTokenAuthSubmit()"></app-token-auth>
</div>
